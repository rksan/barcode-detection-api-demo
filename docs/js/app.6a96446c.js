(function(){var e={4619:function(e,t,i){const{verifier:a,methods:s}=i(8409),{observer:n,OVSERVE_METHODS:o}=i(1033),r=(e={})=>{const{config:t,processed:r,detected:l,live:d,resize:c}=e,u=a(s.continuity,{count:4}),h=a(s.modulus10,{base:10,weight:3,digit:10}),m=(e=>{let t="string"===typeof e?document.querySelector(e):e,i=t.querySelector("video");return i||(i=t.appendChild(document.createElement("video"))),i})(t.inputStream.target),g=(e=>{const t=e.parentNode;let i=t.querySelector("canvas:not(.drawingBuffer)");return i||(i=t.appendChild(document.createElement("canvas"))),i})(m),p=(e,t,i,a)=>{i.strokeStyle=a.color,i.fillStyle=a.color,i.lineWidth=a.lineWidth,i.beginPath(),i.moveTo(Math.floor(e[0][t.x]),Math.floor(e[0][t.y]));for(var s=1;s<e.length;s++)i.lineTo(Math.floor(e[s][t.x]),Math.floor(e[s][t.y]));i.closePath(),i.stroke()},f=(e,t)=>{const i=t.getContext("2d"),a=t.getBoundingClientRect();i.clearRect(0,0,a.width,a.height),i.drawImage(e,0,0,a.width,a.height)},v={instance:null,processed:e=>{if(!e)return;const t=v.instance,i=t.canvas.ctx.overlay,a=t.canvas.dom.overlay;if(e.boxes){const t=Math.floor(a.getAttribute("width")),s=Math.floor(a.getAttribute("height"));i.clearRect(0,0,t,s),e.boxes.filter((t=>t!==e.box)).forEach((e=>{p(e,{x:0,y:1},i,{color:"green",lineWidth:2})}))}e.box&&p(e.box,{x:0,y:1},i,{color:"#00F",lineWidth:2}),e.codeResult&&e.codeResult.code&&p(e.line,{x:"x",y:"y"},i,{color:"red",lineWidth:3}),f(i.canvas,g),r&&r(e,{quagga:t})},detected:e=>{if(!e)return;if(!e.codeResult)return;const t=v.instance,i=e.codeResult.code;h.verify(i)&&u.verify(i)&&l&&l(e,{quagga:t})},delayId:""};return{config:t,checker:u,modulus:h,init:(e={})=>{const{init:a,error:s}=e;u.reset(),h.reset();const r=v.instance=i(928);r.onProcessed(v.processed),r.onDetected(v.detected),r.init(t,(e=>{if(e)return console.error("[Quagga]",e),void(s&&s(e));if(console.log("[Quagga]","init finished. Ready to start"),r.start(),d){const e=t=>{const i=r.CameraAccess;if(!i)return void(v.delayId=window.setTimeout(e,t));const a=i.getActiveTrack();a?(v.observer=n(o.resize,{target:m,options:{box:"border-box"},callback:e=>{e.forEach((e=>{c&&c(e,{quagga:r})}))}}),"function"===typeof d&&d(a,{quagga:r})):v.delayId=window.setTimeout(e,t)};e(10)}a&&a({quagga:r})}))},term:(e={})=>{const{term:t}=e;v.observer&&(v.observer.disconnect(),v.observer=null);const i=v.instance;i&&(v.delayId&&(window.clearTimeout(v.delayId),v.delayId=""),i.offProcessed(v.processed),i.offDetected(v.detected),i.stop(),t&&t({quagga:i}))}}};e.exports=r},9120:function(e){const t=(e,t,i)=>{const a=(e=>"string"===typeof e?document.querySelectorAll(e):e)(e),s=new ResizeObserver(t);return a.forEach?a.forEach((e=>{s.observe(e,i)})):s.observe(a,i),s};e.exports=t},1033:function(e,t,i){"use strict";i.r(t),i.d(t,{OVSERVE_METHODS:function(){return a},observer:function(){return s}});const a={resize:"ResizeObserver"},s=(e,t={})=>{if(e===a.resize){const{target:e,callback:i,option:a}=t,s=new ResizeObserver(i);return s.observe(e,a),s}}},5973:function(e,t,i){var a=i(4344)["default"];i(7658);const s=i(8780),n={count:4};class o extends s{constructor(e=n){super(),a(this,"_config",n),a(this,"_queue",void 0),a(this,"_dust",void 0),a(this,"_value",void 0),a(this,"_result",void 0),this._config={...e,...n},this.reset()}verify(e){if(this._value=e,this._result=!1,this._queue.push(e),this._queue.length<this._config.count)return!1;this._config.count<this._queue.length&&this._dust.push(this._queue.shift());const t=this._queue.every((t=>t===e));return!1===t&&10*this._config.count<this._dust.length&&this._dust.shift(),this._result=t,t}reset(){this._queue=[],this._dust=[],this._value="",this._result=!1}get values(){return this._queue}get errors(){return this._dust}}e.exports=o},8409:function(e,t,i){const a={continuity:"Continuity",modulus10:"Modulus10"},s=(e,t)=>{if(e===a.continuity){const e=i(5973);return new e(t)}if(e===a.modulus10){const e=i(4558);return new e(t)}throw Error(`method is undefined[method = ${e}]`)};e.exports={verifier:s,methods:a}},4558:function(e,t,i){var a=i(4344)["default"];const s=i(8780),n={base:10,weight:3,digit:13};class o extends s{constructor(e=n){super(),a(this,"_config",null),a(this,"_codes",null),a(this,"_lastChar",""),a(this,"_checkdigit",0),a(this,"_buffers",null),this._config={...e,...n},this.reset()}reset(){this._codes=null,this._lastChar="",this._checkdigit=0,this._buffers=null}checkdigit(e){let t=[0,0];e.forEach(((e,i)=>{let a=parseInt(e,10);i%2===0?t[1]+=a:t[0]+=a}));let i=t[0]*this._config.weight+t[1],a=i%this._config.base,s=0;return s=0===a?0:this._config.base-a,s}verify(e){return this._codes=e.toString().split(""),this._checkdigit=0,this._buffers=("0".repeat(this._config.digit)+e).slice(-this._config.digit).split(""),this._lastChar=this._buffers.pop(),!!this._lastChar&&(this._checkdigit=this.checkdigit(this._buffers),parseInt(this._lastChar,10)===this._checkdigit)}}e.exports=o},8780:function(e){class t{verify(e){return e===e}}e.exports=t},1265:function(e,t,i){"use strict";var a=i(9242),s=i(3396);function n(e,t,i,a,n,o){const r=(0,s.up)("PHome"),l=(0,s.up)("PAsyncPermissionMedia");return(0,s.wg)(),(0,s.j4)(l,{theme:"dark"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{theme:"dark"})])),_:1})}var o=i(7139);const r={class:"wapper grid-container"},l={class:"content grid-item-main"},d=(0,s._)("canvas",{class:"drawingBuffer"},null,-1),c=(0,s._)("canvas",{class:"debug"},null,-1),u=(0,s._)("video",null,null,-1),h={class:"fixed-bottom"},m=(0,s._)("i",{class:"bi bi-upc-scan"},null,-1),g=(0,s._)("i",{class:"bi bi-stop-circle-fill"},null,-1),p={class:"footer w-100 position-absolute bottom-0 start-0"},f={class:"d-flex justify-content-end p-5"},v=(0,s._)("button",{type:"button",class:"preview-button btn btn-secondary","data-bs-toggle":"offcanvas","data-bs-target":"#previewList","aria-controls":"previewList"},[(0,s._)("i",{class:"bi bi-images"})],-1),b=(0,s._)("button",{type:"button",class:"btn dropdown-toggle dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,s._)("span",{class:"visually-hidden"},"Toggle Dropdown")],-1),_={class:"dropdown-menu dropdown-menu-dark"},w=(0,s._)("li",null,[(0,s._)("button",{class:"dropdown-item","data-bs-toggle":"offcanvas","data-bs-target":"#previewList","aria-controls":"previewList"}," Show Preview ")],-1),y=(0,s._)("div",{class:"offcanvas-header"},[(0,s._)("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel"},"Previews"),(0,s._)("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),x={class:"offcanvas-body"},k={class:"preview-list list-group list-group-flush list-group-numbered",style:{"flex-direction":"column-reverse"}},C=["src"],S={class:"preview-list-text bg-light text-dark"},E={id:"dspResult",class:"modal","aria-hidden":"true"},R={class:"modal-dialog modal-dialog-scrollable"},O=(0,s._)("div",{class:"modal-header"},[(0,s._)("h5",{class:"modal-title"},"Result"),(0,s._)("button",{class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),T={class:"modal-body bg-dark"},W={class:"prettyprint linenums"};function D(e,t){const i=(0,s.up)("b-button");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",r,[(0,s._)("section",l,[(0,s._)("div",{class:(0,o.C_)(["camera",[e.compCameraTheme,e.compCameraFull].join(" ")])},[(0,s._)("div",{id:"interactive",class:(0,o.C_)(["viewport",e.compViewportShow])},[d,c,u,(0,s._)("span",null,(0,o.zw)(e.videoInfo),1)],2),(0,s._)("div",h,[(0,s._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...t)=>e.doStart&&e.doStart(...t))},[m,(0,s.Uk)(" Start ")]),(0,s._)("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=(...t)=>e.doStop&&e.doStop(...t))},[g,(0,s.Uk)(" Stop ")])])],2)])]),(0,s._)("div",p,[(0,s._)("div",f,[(0,s._)("div",{class:(0,o.C_)(["btn-group bg-secondary dropup",e.compAnime]),onAnimationend:t[3]||(t[3]=(...t)=>e.doAnimationEnd&&e.doAnimationEnd(...t))},[v,b,(0,s._)("ul",_,[w,(0,s._)("li",null,[(0,s._)("button",{class:"dropdown-item",onClick:t[2]||(t[2]=(...t)=>e.resetGallary&&e.resetGallary(...t))},"Reset")])]),(0,s.wy)((0,s._)("span",{class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},(0,o.zw)(e.model.gallery.length),513),[[a.F8,0!==e.model.gallery.length]])],34)])]),(0,s._)("div",{class:(0,o.C_)(["offcanvas offcanvas-end",e.compTheme]),tabindex:"-1",id:"previewList"},[y,(0,s._)("div",x,[(0,s._)("div",k,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.model.gallery,((t,a)=>((0,s.wg)(),(0,s.j4)(i,{key:a,class:(0,o.C_)(["list-group-item list-group-item-action",e.compTheme]),"data-bs-toggle":"modal","data-bs-target":"#dspResult","data-result-index":a,onClick:e.doRsult},{default:(0,s.w5)((()=>[(0,s._)("img",{src:t.imageURL,class:"preview-list-img"},null,8,C),(0,s._)("h5",S," Code "+(0,o.zw)(a+1)+". : "+(0,o.zw)(t.code),1)])),_:2},1032,["class","data-result-index","onClick"])))),128))])])],2),(0,s._)("div",E,[(0,s._)("div",R,[(0,s._)("div",{class:(0,o.C_)(["modal-content",e.compTheme])},[O,(0,s._)("div",T,[(0,s._)("code",W,(0,o.zw)(e.model.dspResult),1)])],2)])])],64)}i(7658);var U=i(4870),j=i(1020);const I={asyncUserMedias:async e=>await navigator.mediaDevices.getUserMedia(e),_permissions:{video:!1,audio:!1},_devices:[],devices(){const e=I._devices;return e},_cameras:[],cameras(e){if(I._permissions.video){const t=I._cameras;return"default"===e?t[0]:t}return[]},_microphones:[],microphones(e){if(I._permissions.audio){const t=I._microphones;return"default"===e?t[0]:t}return[]},asyncPermissionToUseUserMedia:async e=>{try{const t=await I.asyncUserMedias(e);I._permissions.audio=!0;const i=t.getVideoTracks();0<i.length&&(I._permissions.video=!0,i.forEach((e=>e.stop())));const a=t.getAudioTracks();0<a.length&&(I._permissions.audio=!0,a.forEach((e=>e.stop())));const s=await I.asyncDevices();return I._devices=s,I._cameras=s.filter((e=>"videoinput"===e.kind&&""!==e.label)),I._microphones=s.filter((e=>"audioinput"===e.kind&&""!==e.label)),Promise.resolve(s)}catch(t){return I._permissions.video=!1,I._permissions.audio=!1,Promise.reject(t)}},asyncDevices:async()=>await navigator.mediaDevices.enumerateDevices()};var A=I;const q=(e,t)=>e&&t?e[t]:e,H={width:e=>{const t={default:{min:160,ideal:1200,max:10240}};return q(t,e)},height:e=>{const t={default:{min:120,ideal:720,max:4320}};return q(t,e)},readers:e=>{const t={default:["ean_reader","ean_8_reader"],values:["code_128_reader","ean_reader","ean_8_reader","code_39_reader","code_39_vin_reader","codabar_reader","upc_reader","upc_e_reader","i2of5_reader","2of5_reader","code_93_reader"]};return q(t,e)},numOfWorkers:e=>{const t={default:0,range:{min:0,max:navigator.hardwareConcurrency||4}};return q(t,e)},singleChannel:e=>{const t={default:!1};return q(t,e)}},M=(0,j.Q_)("quagga-config",{state:()=>({readers:H.readers("default"),numOfWorkers:H.numOfWorkers("default"),singleChannel:H.singleChannel("default"),width:H.width("default"),height:H.height("default"),events:""}),getters:{getEvents:e=>()=>e.events,getConfig:e=>()=>{const t={inputStream:{name:"Live",type:"LiveStream",target:"#interactive.viewport",constraints:{width:e.width,height:e.height,facingMode:"environment"},singleChannel:e.singleChannel},numOfWorkers:e.numOfWorkers,decoder:{readers:e.readers},locate:!0};return t}},actions:{setEvents(e){this.events=e},setConfig(e,t){this[e]=t}}});var P=i(9120),V=i.n(P),z=(0,s.aZ)({name:"o-input-form",setup(){const e=M(),t=(0,U.qj)({imageURL:"",gallery:[{code:"",imageURL:"",result:null,checker:null}],dspResult:""}),a=(0,U.qj)({anime:!1,camera:!1}),s=(0,U.qj)({}),n={instances:null,init:()=>{n.term(),n.instances=[]},term:()=>{n.instances&&n.instances.length&&n.instances.forEach((e=>e.disconnect()))},add:(e,t)=>{n.instances.push(V()(e,t))}},o={interface:null};return{quaggaConfigStore:e,model:t,ui:a,videoInfo:s,init(){const r=e.getConfig();(o.interface=i(4619)({config:r,processed:e=>e,detected:(e,{quagga:i})=>{const s=e.codeResult.code,n=i.canvas.dom.image;t.imageURL=n.toDataURL(),this.addGallary({code:s,imageURL:this.model.imageURL,result:e,checker:i.checker}),this.doScan(),this.doStop(),a.anime=!0},live:()=>{n.init();const e=document.body,t=e.querySelector("div.viewport"),i=t.querySelector("video"),a=t.querySelector("canvas.debug");n.add([e,t,i,a],(e=>{e.forEach((e=>{const t=e.target,i=e.contentRect,a=t.localName+(t.id?"#"+t.id:"")+(t.className?"."+t.className.split(" ").join("."):"");s[a]={width:Math.floor(i.width),height:Math.floor(i.height)}}))})),n.add([i],(e=>{e.forEach((e=>{const t=e.contentRect;i.width=t.width;const s=i.getBoundingClientRect();a.width=s.width,a.height=s.height}))}))}})).init({init:()=>{a.camera=!0}})},term(){o.interface&&(o.interface.term(),n.term(),a.camera=!1)}}},props:{theme:{type:String,default(){return"light"}},start:{type:Function,default:()=>{}},scan:{type:Function,default:()=>{}},stop:{type:Function,default:()=>{}}},computed:{compCameraFull(){return this.ui.camera?["camera-full"].join(" "):""},compViewportShow(){return this.ui.camera?"":"d-none"},compTheme(){return"light"===this.theme?["bg-light","text-dark"].join(" "):["bg-dark","text-light"].join(" ")},compCameraTheme(){return"light"===this.theme?["bg-light","camera-demo-light"].join(" "):["bg-dark","camera-demo-dark"].join(" ")},compAnime(){return this.ui.anime?["anime"].join(" "):""}},created(){this.resetGallary(),this.$watch((()=>this.quaggaConfigStore.getEvents()),(e=>{"update"===e&&(this.camera&&(this.doStop(),this.doStart()),this.quaggaConfigStore.setEvents(""))}))},methods:{resetGallary(){this.model.gallery=[]},addGallary({code:e,imageURL:t,result:i,checker:a}){this.model.gallery.push({code:e,imageURL:t,result:i,checker:a})},doAnimationEnd(){this.ui.anime=!1},doRsult(e){let t=e.currentTarget;var i=t.dataset.resultIndex,a=this.model.gallery[i].result;this.model.dspResult=JSON.stringify(a)},doStart(){this.init(),this.start("start",{data:this.model,vm:this})},doScan(){this.scan("scan",{data:this.model,vm:this})},doStop(){this.term(),this.stop("stop",{data:this.model,vm:this})}}}),F=i(89);const N=(0,F.Z)(z,[["render",D]]);var G=N;const L=["id"],B={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},K={class:"modal-header"},Y={class:"modal-title"};function Z(e,t,i,a,n,r){return(0,s.wg)(),(0,s.iD)("div",{id:i.id,class:"modal","aria-hidden":"true"},[(0,s._)("div",B,[(0,s._)("div",{class:(0,o.C_)(["modal-content",r.compTheme])},[(0,s._)("div",K,[(0,s._)("h5",Y,(0,o.zw)(i.title),1),(0,s.WI)(e.$slots,"header"),(0,s._)("button",{class:(0,o.C_)(["btn-close",r.compCloseButton]),"data-bs-dismiss":"modal","aria-label":"Close"},null,2)]),(0,s._)("div",{class:(0,o.C_)(["modal-body",r.compTheme])},[(0,s.WI)(e.$slots,"default")],2)],2)])],8,L)}var $={name:"o-modal-dialog",props:{id:{type:String,default:()=>"modal-dialog"},title:{type:String,default:()=>"Modal Dialog"},theme:{type:String,default:()=>"light"},btnSave:{type:Object,default:()=>({label:"Save",click:()=>{}})},btnCancel:{type:Object,default:()=>({label:"Cancel",click:()=>{}})}},computed:{compTheme(){return"light"===this.theme?["bg-light","text-dark"].join(" "):["bg-dark","text-light"].join(" ")},compCloseButton(){return"light"===this.theme?"":"btn-close-white"}}};const Q=(0,F.Z)($,[["render",Z]]);var J=Q;const X=(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),ee={class:"offcanvas-body"},te={class:"offcanvas-footer"};function ie(e,t,i,a,n,r){return(0,s.wg)(),(0,s.iD)("div",{class:(0,o.C_)(["offcanvas d-flex flex-column flex-shrink-0",r.compTheme])},[(0,s._)("div",{class:(0,o.C_)(["offcanvas-header",r.compTheme])},[(0,s.WI)(e.$slots,"header"),X],2),(0,s._)("div",ee,[(0,s.WI)(e.$slots,"default")]),(0,s._)("div",te,[(0,s.WI)(e.$slots,"footer")])],2)}var ae={name:"o-sidebar",props:{theme:{type:String,default(){return"light"}}},computed:{compTheme(){return"light"===this.theme?["bg-light","text-dark"].join(" "):["bg-dark","text-light"].join(" ")}}};const se=(0,F.Z)(ae,[["render",ie]]);var ne=se;const oe={class:"row"},re=(0,s._)("label",{class:"form-label",for:"input-readers"},"Readers",-1),le={class:"col"},de=(0,s._)("label",{class:"form-label",for:"input-workers"},"Workers",-1),ce={class:"d-flex"},ue={class:"align-self-stretch flex-fill w-100 text-center"},he=["min","max"],me={id:"input-workers-list"},ge=(0,s._)("option",{value:"0",label:"0"},null,-1),pe=["value","label"],fe={class:"order-first"},ve=(0,s._)("i",{class:"bi bi-arrow-left"},null,-1),be={class:"order-last"},_e=(0,s._)("i",{class:"bi bi-arrow-right"},null,-1),we=(0,s._)("label",{class:"form-label",for:"input-camera"},"Camera",-1),ye=(0,s._)("legend",null,"Video",-1),xe={class:"row"},ke={class:"col"},Ce=(0,s._)("label",{class:"form-label"},"Ratio",-1),Se={class:"col"},Ee=(0,s._)("label",{class:"form-label",for:"input-width"},"width",-1),Re=["min","max"],Oe={class:"col"},Te=(0,s._)("label",{class:"form-label",for:"input-height"},"height",-1),We=["min","max"],De={class:"row"},Ue={class:"col"},je=(0,s._)("legend",null,"Options",-1),Ie=(0,s._)("button",{class:"btn text-light","data-bs-dismiss":"offcanvas"},"Cancel",-1),Ae={name:"o-settings"};var qe=Object.assign(Ae,{setup(e){const t=M(),i=(0,U.qj)({deviceId:"",readers:t.readers,numOfWorkers:t.numOfWorkers,width:{min:t.width.min,ideal:t.width.ideal,max:t.width.max},height:{min:t.height.min,ideal:t.height.ideal,max:t.height.max},singleChannel:t.singleChannel}),n=(()=>{const e=A.devices();return{READERS:H.readers("values").map((e=>({text:e,value:e}))),WORKERS_RANGE:H.numOfWorkers("range"),DEVICES:e,CAMERAS:A.cameras().map((e=>({text:e.label,value:e.deviceId}))),RATIO:[{text:"21x9",value:9/21},{text:"16x9",value:9/16,default:!0},{text:"4x3",value:3/4},{text:"1x1",value:1}].map((e=>({text:e.text,value:e.value,default:e.default||!1}))),WIDTH:{min:H.width("default").min,max:H.width("default").max},HEIGHT:{min:H.height("default").min,max:H.height("default").max}}})(),r=(0,U.qj)({ratio:String(n.RATIO.filter((e=>!0===e.default))[0].value)}),l=e=>{e&&e.preventDefault()},d=({width:e,height:t})=>(e<n.WIDTH.min?e=n.WIDTH.min:n.WIDTH.max<e&&(e=n.WIDTH.max),t<n.HEIGHT.min?t=n.HEIGHT.min:n.HEIGHT.max<t&&(t=n.HEIGHT.max),{width:e,height:t}),c=e=>{let t=Math.floor(Number.parseFloat(i.width.ideal)*Number.parseFloat(e));const a=d({width:e,height:t});i.width.ideal=a.width,i.height.ideal=a.height},u=e=>{let t=e.target.value,a=Math.floor(Number.parseFloat(t)*Number.parseFloat(r.ratio));const s=d({width:t,height:a});i.width.ideal=s.width,i.height.ideal=s.height},h=e=>{let t=e.target.value,a=Math.floor(Number.parseFloat(t)/Number.parseFloat(r.ratio));const s=d({width:a,height:t});i.width.ideal=s.width,i.height.ideal=s.height},m=()=>{const e=document.body,t=e.getBoundingClientRect(),a=d({width:t.width,height:t.height});i.width.ideal=a.width,i.height.ideal=a.height},g=e=>{l(e),Object.entries(i).forEach((([e,i])=>{t.setConfig(e,i)})),t.setEvents("update")};return(e,t)=>{const l=(0,s.up)("b-form-checkbox-group"),d=(0,s.up)("b-button"),p=(0,s.up)("b-form-select"),f=(0,s.up)("b-form-select-option"),v=(0,s.up)("b-form-checkbox");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("form",null,[(0,s._)("div",oe,[re,(0,s._)("div",le,[(0,s.Wm)(l,{id:"input-readers",modelValue:i.readers,"onUpdate:modelValue":t[0]||(t[0]=e=>i.readers=e),options:(0,U.SU)(n).READERS},null,8,["modelValue","options"])])]),(0,s._)("div",null,[de,(0,s._)("div",ce,[(0,s._)("div",ue,[(0,s._)("span",null,(0,o.zw)(`${i.numOfWorkers}/${(0,U.SU)(n).WORKERS_RANGE.max}`),1),(0,s.wy)((0,s._)("input",{class:"w-100 text-light",type:"range",id:"input-workers",list:"input-workers-list",min:(0,U.SU)(n).WORKERS_RANGE.min,max:(0,U.SU)(n).WORKERS_RANGE.max,"onUpdate:modelValue":t[1]||(t[1]=e=>i.numOfWorkers=e)},null,8,he),[[a.nr,i.numOfWorkers]]),(0,s._)("datalist",me,[ge,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,U.SU)(n).WORKERS_RANGE.max,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e,value:e,label:e},null,8,pe)))),128))])]),(0,s._)("div",fe,[(0,s.Wm)(d,{variant:"primary",onClick:t[2]||(t[2]=e=>(0,U.SU)(n).WORKERS_RANGE.min<i.numOfWorkers&&--i.numOfWorkers)},{default:(0,s.w5)((()=>[ve])),_:1})]),(0,s._)("div",be,[(0,s.Wm)(d,{variant:"primary",onClick:t[3]||(t[3]=e=>i.numOfWorkers<(0,U.SU)(n).WORKERS_RANGE.max&&++i.numOfWorkers)},{default:(0,s.w5)((()=>[_e])),_:1})])])]),(0,s._)("div",null,[we,(0,s.Wm)(p,{id:"input-camera",modelValue:i.deviceId,"onUpdate:modelValue":t[4]||(t[4]=e=>i.deviceId=e),options:(0,U.SU)(n).CAMERAS},null,8,["modelValue","options"])]),(0,s._)("fieldset",null,[ye,(0,s._)("div",xe,[(0,s._)("div",ke,[Ce,(0,s.Wm)(p,{id:"input-ratio",modelValue:r.ratio,"onUpdate:modelValue":t[5]||(t[5]=e=>r.ratio=e),onInput:c},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,U.SU)(n).RATIO,((e,t)=>((0,s.wg)(),(0,s.j4)(f,{key:t,value:String(e.value)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.text),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])]),(0,s._)("div",Se,[Ee,(0,s.wy)((0,s._)("input",{id:"input-width",class:"form-control",type:"number","onUpdate:modelValue":t[6]||(t[6]=e=>i.width.ideal=e),min:i.width.min,max:i.width.max,step:"10",onInput:u},null,40,Re),[[a.nr,i.width.ideal]])]),(0,s._)("div",Oe,[Te,(0,s.wy)((0,s._)("input",{id:"input-height",class:"form-control",type:"number","onUpdate:modelValue":t[7]||(t[7]=e=>i.height.ideal=e),number:"",min:i.height.min,max:i.height.max,step:"10",onInput:h},null,40,We),[[a.nr,i.height.ideal]])])]),(0,s._)("div",De,[(0,s._)("div",Ue,[(0,s.Wm)(d,{onClick:m},{default:(0,s.w5)((()=>[(0,s.Uk)("fix body")])),_:1})])])]),(0,s._)("fieldset",null,[je,(0,s._)("div",null,[(0,s.Wm)(v,{checked:i.singleChannel,modelValue:i.singleChannel,"onUpdate:modelValue":t[8]||(t[8]=e=>i.singleChannel=e)},{default:(0,s.w5)((()=>[(0,s.Uk)(" SingleChannel ")])),_:1},8,["checked","modelValue"])])])]),(0,s._)("section",{class:"modal-footer"},[(0,s._)("button",{class:"btn btn-success","data-bs-dismiss":"offcanvas",onClick:g}," OK "),Ie])],64)}}});const He=qe;var Me=He;const Pe={class:"container-fluid"},Ve=(0,s.uE)('<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarHead" aria-controls="navbarHead" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><a class="navbar-brand text-truncate" style="max-width:50%;" href="/"> Barcode Reader Demo </a><div class="collapse navbar-collapse" id="navbarHead"><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item"><a class="nav-link active" href="/">Home</a></li></ul><a class="btn btn-dark" href="https://github.com/rksan/barcode-detection-api-demo" target="_blank"><i class="bi bi-github"></i> github </a></div>',3),ze={class:"dropdown"},Fe=(0,s._)("button",{class:"btn btn-dark dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,s._)("i",{class:"bi bi-gear-fill"})],-1),Ne={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"dropdownMenuButton1"},Ge=(0,s._)("h1",null,"Settings",-1);function Le(e,t,i,a,n,r){const l=Me,d=ne,c=J;return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",{class:(0,o.C_)(["navbar navbar-expand-lg",r.compTheme])},[(0,s._)("div",Pe,[Ve,(0,s._)("div",ze,[Fe,(0,s._)("ul",Ne,[(0,s._)("li",null,[(0,s._)("button",{class:"dropdown-item","data-bs-toggle":"offcanvas","data-bs-target":"#settings-sidebar","aria-controls":"settings-sidebar",onClick:t[0]||(t[0]=(...t)=>e.onSettings&&e.onSettings(...t))}," Settings ")]),(0,s._)("li",null,[(0,s._)("button",{class:"dropdown-item","data-bs-toggle":"modal","data-bs-target":"#supported-constraints-dialog",onClick:t[1]||(t[1]=(...e)=>r.onSC&&r.onSC(...e))}," Supported Constraints ")]),(0,s._)("li",null,[(0,s._)("button",{class:"dropdown-item","data-bs-toggle":"modal","data-bs-target":"#enumerate-devices-dialog",onClick:t[2]||(t[2]=(...e)=>r.onEnumerateDevices&&r.onEnumerateDevices(...e))}," Enumerate Devices ")])])])])],2),(0,s.Wm)(d,{id:"settings-sidebar",theme:i.theme,class:"offcanvas-end"},{header:(0,s.w5)((()=>[Ge])),default:(0,s.w5)((()=>[(0,s.Wm)(l)])),_:1},8,["theme"]),(0,s.Wm)(c,{id:"supported-constraints-dialog",theme:i.theme,title:"Supported Constraints"},{default:(0,s.w5)((()=>[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.supportedConstraints,((e,t,i)=>((0,s.wg)(),(0,s.iD)("li",{key:i},(0,o.zw)(t)+" : "+(0,o.zw)(e),1)))),128))])])),_:1},8,["theme"]),(0,s.Wm)(c,{id:"enumerate-devices-dialog",theme:i.theme,title:"Enumerate Devices"},{default:(0,s.w5)((()=>[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.devices,((e,t,i)=>((0,s.wg)(),(0,s.iD)("li",{key:i},(0,o.zw)(t)+" : "+(0,o.zw)(e),1)))),128))])])),_:1},8,["theme"])],64)}var Be={name:"o-navbar",components:{OModalDialog:J,OSettings:Me},props:{theme:{type:String,default(){return"light"}}},computed:{compTheme(){return"light"===this.theme?["navbar-light","bg-light","text-dark"].join(" "):["navbar-dark","bg-dark","text-light"].join(" ")}},data(){return{supportedConstraints:[],devices:[]}},methods:{onSC(){let e=navigator.mediaDevices.getSupportedConstraints();this.supportedConstraints=e},onEnumerateDevices(){navigator.mediaDevices.enumerateDevices().then((e=>{this.devices=e}))}}};const Ke=(0,F.Z)(Be,[["render",Le]]);var Ye=Ke;const Ze={class:"header",id:"grid-item-head"};function $e(e,t,i,a,n,r){const l=Ye,d=G;return(0,s.wg)(),(0,s.iD)("div",{class:(0,o.C_)(["grid-content container-fluid",r.compTheme]),id:"grid-item-content"},[(0,s._)("header",Ze,[(0,s.Wm)(l,{theme:i.theme},null,8,["theme"])]),(0,s._)("main",{class:(0,o.C_)(["main",r.compTheme]),id:"grid-item-main"},[(0,s.Wm)(d,{theme:i.theme},null,8,["theme"])],2)],2)}var Qe={name:"p-home",components:{ONavbar:Ye,OInputForm:G},props:{theme:{type:String,default(){return"light"}}},computed:{compTheme(){return"light"===this.theme?["bg-light","text-dark"].join(" "):["bg-dark","text-light"].join(" ")}}};const Je=(0,F.Z)(Qe,[["render",$e],["__scopeId","data-v-3d2a4016"]]);var Xe=Je;const et=e=>((0,s.dD)("data-v-06770ddb"),e=e(),(0,s.Cn)(),e),tt={class:"list-group list-group-horizontal"},it=et((()=>(0,s._)("a",{class:"btn btn-dark",href:"https://github.com/rksan/barcode-detection-api-demo",target:"_blank"},[(0,s._)("i",{class:"bi bi-github"}),(0,s.Uk)(" github "),(0,s._)("i",{class:"bi bi-box-arrow-up-right"})],-1))),at=[it],st={class:"position-absolute top-50 start-50 translate-middle"},nt=et((()=>(0,s._)("i",{class:"bi bi-x-circle text-danger"},null,-1))),ot=et((()=>(0,s._)("p",null,"本アプリは利用するには、カメラの使用を許可してください",-1))),rt=["href"],lt=et((()=>(0,s._)("i",{class:"bi bi-search"},null,-1))),dt=et((()=>(0,s._)("i",{class:"bi bi-box-arrow-up-right"},null,-1))),ct=et((()=>(0,s._)("div",{class:"position-absolute top-50 start-50 translate-middle opacity-50"},[(0,s._)("div",{class:"spinner-border text-primary",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading ...")])],-1))),ut=et((()=>(0,s._)("p",null,"カメラを使用できるか確認しています...",-1))),ht=et((()=>(0,s._)("p",null,"ブラウザにカメラの利用を許可してください",-1)));function mt(e,t,i,a,n,r){return n.permission?(0,s.WI)(e.$slots,"default",{key:0},void 0,!0):((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,o.C_)(["container-fluid text-center",r.compTheme])},[(0,s._)("div",{class:(0,o.C_)(["position-absolute top-0 end-0",r.compTheme])},[(0,s._)("ul",tt,[(0,s._)("li",{class:(0,o.C_)(["list-group-item",r.compTheme])},at,2)])],2),(0,s._)("div",st,[n.error?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("h1",null,[nt,(0,s.Uk)((0,o.zw)(this.message),1)]),ot,(0,s._)("span",null,[(0,s._)("a",{class:"btn btn-primary",href:"https://www.google.com/search?q=%E3%82%AB%E3%83%A1%E3%83%A9+%E8%A8%B1%E5%8F%AF&oq=%E3%82%AB%E3%83%A1%E3%83%A9+%E8%A8%B1%E5%8F%AF&aqs=chrome..69i57.7261j0j7&sourceid=chrome&ie=UTF-8",target:"_blank"},[lt,(0,s.Uk)(" カメラ 許可 "),dt],8,rt)])],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[ct,ut,ht],64))])],2))}var gt={name:"p-async-permission-media",props:{theme:{type:String,default:"light"},constraints:{type:Object,default(){return{video:!0}}}},data(){return{permission:!1,message:"",error:null}},computed:{compTheme(){return"light"===this.theme?["bg-light","text-dark"].join(" "):["bg-dark","text-light"].join(" ")}},methods:{async asyncPermissionToUseUserMedia(e){return A.asyncPermissionToUseUserMedia(e).then((e=>{if(e instanceof Error)return Promise.reject(e);this.permission=!0,this.message="カメラの使用が許可されました。",this.error=null})).catch((e=>{this.permission=!1,this.message="カメラの使用が拒否されています",this.error=e}))}},async created(){await this.asyncPermissionToUseUserMedia(this.constraints)}};const pt=(0,F.Z)(gt,[["render",mt],["__scopeId","data-v-06770ddb"]]);var ft=pt,vt=(0,s.aZ)({name:"App",components:{PAsyncPermissionMedia:ft,PHome:Xe}});const bt=(0,F.Z)(vt,[["render",n]]);var _t=bt,wt=i(4193);(0,a.ri)(_t).use((0,j.WB)()).use(wt.ZP).mount("#app")}},t={};function i(a){var s=t[a];if(void 0!==s)return s.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,i),n.exports}i.m=e,function(){var e=[];i.O=function(t,a,s,n){if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],s=e[c][1],n=e[c][2];for(var r=!0,l=0;l<a.length;l++)(!1&n||o>=n)&&Object.keys(i.O).every((function(e){return i.O[e](a[l])}))?a.splice(l--,1):(r=!1,n<o&&(o=n));if(r){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[a,s,n]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,n,o=a[0],r=a[1],l=a[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(s in r)i.o(r,s)&&(i.m[s]=r[s]);if(l)var c=l(i)}for(t&&t(a);d<o.length;d++)n=o[d],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(c)},a=self["webpackChunkbarcode_detection_api_demo"]=self["webpackChunkbarcode_detection_api_demo"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=i.O(void 0,[998],(function(){return i(1265)}));a=i.O(a)})();
//# sourceMappingURL=app.6a96446c.js.map