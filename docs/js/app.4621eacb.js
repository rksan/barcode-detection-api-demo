(function(){var e={5973:function(e,t,a){var s=a(4344)["default"];a(7658);const i=a(8780),o={count:4};class n extends i{constructor(e=o){super(),s(this,"_config",o),s(this,"_queue",void 0),s(this,"_dust",void 0),s(this,"_value",void 0),s(this,"_result",void 0),this._config={...e,...o},this.reset()}verify(e){if(this._value=e,this._result=!1,this._queue.push(e),this._queue.length<this._config.count)return!1;this._config.count<this._queue.length&&this._dust.push(this._queue.shift());const t=this._queue.every((t=>t===e));return!1===t&&10*this._config.count<this._dust.length&&this._dust.shift(),this._result=t,t}reset(){this._queue=[],this._dust=[],this._value="",this._result=!1}get values(){return this._queue}get errors(){return this._dust}}e.exports=n},8409:function(e,t,a){const s={continuity:"Continuity",modulus10:"Modulus10"},i=(e,t)=>{if(e===s.continuity){const e=a(5973);return new e(t)}if(e===s.modulus10){const e=a(4558);return new e(t)}throw Error(`method is undefined[method = ${e}]`)};e.exports={verifier:i,methods:s}},4558:function(e,t,a){var s=a(4344)["default"];const i=a(8780),o={base:10,weight:3,digit:13};class n extends i{constructor(e=o){super(),s(this,"_config",null),s(this,"_codes",null),s(this,"_lastChar",""),s(this,"_checkdigit",0),s(this,"_buffers",null),this._config={...e,...o},this.reset()}reset(){this._codes=null,this._lastChar="",this._checkdigit=0,this._buffers=null}checkdigit(e){let t=[0,0];e.forEach(((e,a)=>{let s=parseInt(e,10);a%2===0?t[1]+=s:t[0]+=s}));let a=t[0]*this._config.weight+t[1],s=a%this._config.base,i=0;return i=0===s?0:this._config.base-s,i}verify(e){return this._codes=e.toString().split(""),this._checkdigit=0,this._buffers=("0".repeat(this._config.digit)+e).slice(-this._config.digit).split(""),this._lastChar=this._buffers.pop(),!!this._lastChar&&(this._checkdigit=this.checkdigit(this._buffers),parseInt(this._lastChar,10)===this._checkdigit)}}e.exports=n},8780:function(e){class t{verify(e){return e===e}}e.exports=t},4037:function(e,t,a){"use strict";var s=a(9242),i=a(3396);function o(e,t,a,s,o,n){const r=(0,i.up)("PHome"),l=(0,i.up)("PAsyncPermissionMedia");return(0,i.wg)(),(0,i.j4)(l,{theme:"dark"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{theme:"dark"})])),_:1})}var n=a(7139);const r={class:"wapper grid-container"},l={class:"content grid-item-main"},d={class:"fixed-bottom"},c=(0,i._)("i",{class:"bi bi-upc-scan"},null,-1),u=(0,i._)("i",{class:"bi bi-stop-circle-fill"},null,-1),m={class:"footer w-100 position-absolute bottom-0 start-0"},h={class:"d-flex justify-content-end p-5"},g=(0,i._)("button",{type:"button",class:"preview-button btn btn-secondary","data-bs-toggle":"offcanvas","data-bs-target":"#previewList","aria-controls":"previewList"},[(0,i._)("i",{class:"bi bi-images"})],-1),p=(0,i._)("button",{type:"button",class:"btn dropdown-toggle dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,i._)("span",{class:"visually-hidden"},"Toggle Dropdown")],-1),f={class:"dropdown-menu dropdown-menu-dark"},v=(0,i._)("li",null,[(0,i._)("button",{class:"dropdown-item","data-bs-toggle":"offcanvas","data-bs-target":"#previewList","aria-controls":"previewList"}," Show Preview ")],-1),b=(0,i._)("div",{class:"offcanvas-header"},[(0,i._)("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel"},"Previews"),(0,i._)("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),_={class:"offcanvas-body"},w={class:"preview-list list-group list-group-flush list-group-numbered",style:{"flex-direction":"column-reverse"}},y=["src"],k={class:"preview-list-text bg-light text-dark"},C={id:"dspResult",class:"modal","aria-hidden":"true"},x={class:"modal-dialog modal-dialog-scrollable"},S=(0,i._)("div",{class:"modal-header"},[(0,i._)("h5",{class:"modal-title"},"Result"),(0,i._)("button",{class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),O={class:"modal-body bg-dark"},E={class:"prettyprint linenums"};function R(e,t,a,o,R,D){const T=(0,i.up)("b-button");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",r,[(0,i._)("section",l,[(0,i._)("div",{class:(0,n.C_)(["camera",[e.compCameraTheme,e.compCameraFull].join(" ")])},[(0,i._)("div",{id:"interactive",class:(0,n.C_)(["viewport",e.compViewportShow])},[(0,i._)("span",null,(0,n.zw)(e.videoInfo),1)],2),(0,i._)("div",d,[(0,i._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...t)=>e.doStart&&e.doStart(...t))},[c,(0,i.Uk)(" Start ")]),(0,i._)("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=(...t)=>e.doStop&&e.doStop(...t))},[u,(0,i.Uk)(" Stop ")])])],2)])]),(0,i._)("div",m,[(0,i._)("div",h,[(0,i._)("div",{class:(0,n.C_)(["btn-group bg-secondary dropup",e.compAnime]),onAnimationend:t[3]||(t[3]=(...t)=>e.doAnimationEnd&&e.doAnimationEnd(...t))},[g,p,(0,i._)("ul",f,[v,(0,i._)("li",null,[(0,i._)("button",{class:"dropdown-item",onClick:t[2]||(t[2]=(...t)=>e.resetGallary&&e.resetGallary(...t))},"Reset")])]),(0,i.wy)((0,i._)("span",{class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},(0,n.zw)(e.model.gallery.length),513),[[s.F8,0!==e.model.gallery.length]])],34)])]),(0,i._)("div",{class:(0,n.C_)(["offcanvas offcanvas-end",e.compTheme]),tabindex:"-1",id:"previewList"},[b,(0,i._)("div",_,[(0,i._)("div",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.model.gallery,((t,a)=>((0,i.wg)(),(0,i.j4)(T,{key:a,class:(0,n.C_)(["list-group-item list-group-item-action",e.compTheme]),"data-bs-toggle":"modal","data-bs-target":"#dspResult","data-result-index":a,onClick:e.doRsult},{default:(0,i.w5)((()=>[(0,i._)("img",{src:t.imageURL,class:"preview-list-img"},null,8,y),(0,i._)("h5",k," Code "+(0,n.zw)(a+1)+". : "+(0,n.zw)(t.code),1)])),_:2},1032,["class","data-result-index","onClick"])))),128))])])],2),(0,i._)("div",C,[(0,i._)("div",x,[(0,i._)("div",{class:(0,n.C_)(["modal-content",e.compTheme])},[S,(0,i._)("div",O,[(0,i._)("code",E,(0,n.zw)(e.model.dspResult),1)])],2)])])],64)}a(7658);var D=a(1020);const T={asyncUserMedias:async e=>await navigator.mediaDevices.getUserMedia(e),_permissions:{video:!1,audio:!1},_devices:[],devices(){const e=T._devices;return e},_cameras:[],cameras(e){if(T._permissions.video){const t=T._cameras;return"default"===e?t[0]:t}return[]},_microphones:[],microphones(e){if(T._permissions.audio){const t=T._microphones;return"default"===e?t[0]:t}return[]},asyncPermissionToUseUserMedia:async e=>{try{const t=await T.asyncUserMedias(e);T._permissions.audio=!0;const a=t.getVideoTracks();0<a.length&&(T._permissions.video=!0,a.forEach((e=>e.stop())));const s=t.getAudioTracks();0<s.length&&(T._permissions.audio=!0,s.forEach((e=>e.stop())));const i=await T.asyncDevices();return T._devices=i,T._cameras=i.filter((e=>"videoinput"===e.kind&&""!==e.label)),T._microphones=i.filter((e=>"audioinput"===e.kind&&""!==e.label)),Promise.resolve(i)}catch(t){return T._permissions.video=!1,T._permissions.audio=!1,Promise.reject(t)}},asyncDevices:async()=>await navigator.mediaDevices.enumerateDevices()};var W=T;const I=(e,t)=>e&&t?e[t]:e,j={width:e=>{const t={default:{min:1280,ideal:1920,max:2560}};return I(t,e)},height:e=>{const t={default:{min:720,ideal:1080,max:1440}};return I(t,e)},readers:e=>{const t={default:["ean_reader","ean_8_reader"],values:["code_128_reader","ean_reader","ean_8_reader","code_39_reader","code_39_vin_reader","codabar_reader","upc_reader","upc_e_reader","i2of5_reader","2of5_reader","code_93_reader"]};return I(t,e)},numOfWorkers:e=>{const t={default:0,range:{min:0,max:navigator.hardwareConcurrency||4}};return I(t,e)},singleChannel:e=>{const t={default:!1};return I(t,e)}},A=(0,D.Q_)("quagga-config",{state:()=>({readers:j.readers("default"),numOfWorkers:j.numOfWorkers("default"),singleChannel:j.singleChannel("default"),width:j.width("default"),height:j.height("default"),events:""}),getters:{getEvents:e=>()=>e.events,getConfig:e=>()=>{const t={inputStream:{name:"Live",type:"LiveStream",target:"#interactive.viewport",constraints:{width:e.width,height:e.height,facingMode:"environment"},singleChannel:e.singleChannel},numOfWorkers:e.numOfWorkers,decoder:{readers:e.readers},locate:!0};return t}},actions:{setEvents(e){this.events=e},setConfig(e,t){this[e]=t}}});var P=a(8409),U={name:"o-input-form",props:{theme:{type:String,default(){return"light"}},start:{type:Function,default:()=>{}},scan:{type:Function,default:()=>{}},stop:{type:Function,default:()=>{}}},computed:{compCameraFull(){return this.camera?["camera-full"].join(" "):""},compViewportShow(){return this.camera?"":"d-none"},compTheme(){return"light"===this.theme?["bg-light","text-dark"].join(" "):["bg-dark","text-light"].join(" ")},compCameraTheme(){return"light"===this.theme?["bg-light","camera-demo-light"].join(" "):["bg-dark","camera-demo-dark"].join(" ")},compAnime(){return this.anime?["anime"].join(" "):""}},data(){return{model:{imageURL:"",gallery:[{code:"",imageURL:"",result:null,checker:null}],dspResult:""},anime:!1,camera:!1,videoInfo:""}},created(){this.resetGallary(),this.$watch((()=>this.quaggaConfigStore.getEvents()),(e=>{"update"===e&&(this.camera&&(this.doStop(),this.doStart()),this.quaggaConfigStore.setEvents(""))}))},setup(){const e={quaggaConfigStore:A()},t={log:"#my-log",Quagga:null,observer:null};return{...e,...t,console(e,t){if("string"===typeof this.log&&(this.log=document.querySelector(this.log)),"string"===typeof t){var a=document.createElement("p");a.textContent=t,this.log.appendChild(a)}},init(){this.codes=[],this.checker.reset(),this.modulus.reset(),this.Quagga=a(928),this.Quagga.onProcessed(this.doProcessed),this.Quagga.onDetected(this.doDetected);const e=this.quaggaConfigStore.getConfig();this.Quagga.init(e,(e=>{e?this.console(e):this.Quagga.start()})),this.initOvserver(),this.camera=!0},term(){this.Quagga.offProcessed(this.doProcessed),this.Quagga.offDetected(this.doDetected),this.Quagga.stop(),this.termObserver(),this.camera=!1},checker:(0,P.verifier)(P.methods.continuity,{count:4}),modulus:(0,P.verifier)(P.methods.modulus10,{base:10,weight:3,digit:10})}},methods:{initOvserver(){const e=document.querySelector(".viewport"),t=new ResizeObserver(this.doOvserver);t.observe(e),this.observer=t},termObserver(){this.observer.disconnect()},doOvserver(e){e.forEach((e=>{const t=e.target,a=e.contentRect,s=t.getElementsByTagName("video")[0],i=s?s.getBoundingClientRect():{width:"",height:""},o=t.getElementsByTagName("canvas")[0],n=o?o.getBoundingClientRect():{width:"",height:""},r=document.body.getBoundingClientRect();this.videoInfo=[{body:`${Math.floor(r.width)} * ${Math.floor(r.height)}`},{view:`${Math.floor(a.width)} * ${Math.floor(a.height)}`},{video:`${Math.floor(i.width)} * ${Math.floor(i.height)}`},{canvas:`${Math.floor(n.width)} * ${Math.floor(n.height)}`}]}))},resetGallary(){this.model.gallery=[]},addGallary({code:e,imageURL:t,result:a,checker:s}){this.model.gallery.push({code:e,imageURL:t,result:a,checker:s})},doAnimationEnd(){this.anime=!1},doRsult(e){let t=e.currentTarget;var a=t.dataset.resultIndex,s=this.model.gallery[a].result;this.model.dspResult=JSON.stringify(s)},doStart(){this.init(),this.start("start",{data:this.model,vm:this})},doScan(){this.scan("scan",{data:this.model,vm:this})},doStop(){this.term(),this.stop("stop",{data:this.model,vm:this})},doProcessed(e){if(e){const t=this.Quagga.canvas.ctx.overlay,a=this.Quagga.canvas.dom.overlay;e.boxes&&(t.clearRect(0,0,parseInt(a.getAttribute("width")),parseInt(a.getAttribute("height"))),e.boxes.filter((t=>t!==e.box)).forEach((e=>{this.Quagga.ImageDebug.drawPath(e,{x:0,y:1},t,{color:"green",lineWidth:2})}))),e.box&&this.Quagga.ImageDebug.drawPath(e.box,{x:0,y:1},t,{color:"#00F",lineWidth:2}),e.codeResult&&e.codeResult.code&&this.Quagga.ImageDebug.drawPath(e.line,{x:"x",y:"y"},t,{color:"red",lineWidth:3})}},doDetected(e){if(!e)return;if(!e.codeResult)return;const t=e.codeResult.code;if(!this.modulus.verify(t))return;if(!this.checker.verify(t))return;const a=this.Quagga.canvas.dom.image;this.model.imageURL=a.toDataURL(),this.addGallary({code:t,imageURL:this.model.imageURL,result:e,checker:this.checker}),this.doScan(),this.doStop(),this.anime=!0}}},M=U,q=a(89);const V=(0,q.Z)(M,[["render",R]]);var H=V;const L=["id"],$={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},N={class:"modal-header"},Q={class:"modal-title"};function B(e,t,a,s,o,r){return(0,i.wg)(),(0,i.iD)("div",{id:a.id,class:"modal","aria-hidden":"true"},[(0,i._)("div",$,[(0,i._)("div",{class:(0,n.C_)(["modal-content",r.compTheme])},[(0,i._)("div",N,[(0,i._)("h5",Q,(0,n.zw)(a.title),1),(0,i.WI)(e.$slots,"header"),(0,i._)("button",{class:(0,n.C_)(["btn-close",r.compCloseButton]),"data-bs-dismiss":"modal","aria-label":"Close"},null,2)]),(0,i._)("div",{class:(0,n.C_)(["modal-body",r.compTheme])},[(0,i.WI)(e.$slots,"default")],2)],2)])],8,L)}var G={name:"o-modal-dialog",props:{id:{type:String,default:()=>"modal-dialog"},title:{type:String,default:()=>"Modal Dialog"},theme:{type:String,default:()=>"light"},btnSave:{type:Object,default:()=>({label:"Save",click:()=>{}})},btnCancel:{type:Object,default:()=>({label:"Cancel",click:()=>{}})}},computed:{compTheme(){return"light"===this.theme?["bg-light","text-dark"].join(" "):["bg-dark","text-light"].join(" ")},compCloseButton(){return"light"===this.theme?"":"btn-close-white"}}};const z=(0,q.Z)(G,[["render",B]]);var F=z;const K=(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),Z={class:"offcanvas-body"},Y={class:"offcanvas-footer"};function J(e,t,a,s,o,r){return(0,i.wg)(),(0,i.iD)("div",{class:(0,n.C_)(["offcanvas d-flex flex-column flex-shrink-0",r.compTheme])},[(0,i._)("div",{class:(0,n.C_)(["offcanvas-header",r.compTheme])},[(0,i.WI)(e.$slots,"header"),K],2),(0,i._)("div",Z,[(0,i.WI)(e.$slots,"default")]),(0,i._)("div",Y,[(0,i.WI)(e.$slots,"footer")])],2)}var X={name:"o-sidebar",props:{theme:{type:String,default(){return"light"}}},computed:{compTheme(){return"light"===this.theme?["bg-light","text-dark"].join(" "):["bg-dark","text-light"].join(" ")}}};const ee=(0,q.Z)(X,[["render",J]]);var te=ee;const ae={class:"row"},se=(0,i._)("label",{class:"form-label",for:"input-readers"},"Readers",-1),ie={class:"col"},oe=(0,i._)("label",{class:"form-label",for:"input-workers"},"Workers(0 - 8)",-1),ne={class:"row"},re={class:"col-8"},le={class:"col-1"},de=(0,i._)("label",{class:"form-label",for:"input-camera"},"Camera",-1),ce=(0,i._)("legend",null,"Video",-1),ue={class:"row"},me={class:"col"},he=(0,i._)("label",{class:"form-label"},"Ratio",-1),ge={class:"col"},pe=(0,i._)("label",{class:"form-label"},"width",-1),fe={class:"col"},ve=(0,i._)("label",{class:"form-label"},"height",-1),be=(0,i._)("legend",null,"Options",-1),_e={class:"modal-footer"},we=(0,i._)("button",{class:"btn text-light","data-bs-dismiss":"offcanvas"},"Cancel",-1);function ye(e,t,a,s,o,r){const l=(0,i.up)("b-form-checkbox-group"),d=(0,i.up)("b-progress-bar"),c=(0,i.up)("b-progress"),u=(0,i.up)("b-form-spin-button"),m=(0,i.up)("b-form-select"),h=(0,i.up)("b-form-input"),g=(0,i.up)("b-form-checkbox");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("form",null,[(0,i._)("div",ae,[se,(0,i._)("div",ie,[(0,i.Wm)(l,{id:"input-readers",modelValue:o.model.readers,"onUpdate:modelValue":t[0]||(t[0]=e=>o.model.readers=e),options:e.READERS_OPTIONS},null,8,["modelValue","options"])])]),(0,i._)("div",null,[oe,(0,i._)("div",ne,[(0,i._)("div",re,[(0,i.Wm)(c,{min:e.WORKERS_RANGE.min,max:e.WORKERS_RANGE.max},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{value:o.model.numOfWorkers},{default:(0,i.w5)((()=>[(0,i._)("span",null,(0,n.zw)(`${o.model.numOfWorkers} / ${e.WORKERS_RANGE.max}`),1)])),_:1},8,["value"])])),_:1},8,["min","max"])]),(0,i._)("div",le,[(0,i.Wm)(u,{id:"input-workers",modelValue:o.model.numOfWorkers,"onUpdate:modelValue":t[1]||(t[1]=e=>o.model.numOfWorkers=e),min:e.WORKERS_RANGE.min,max:e.WORKERS_RANGE.max,inline:""},null,8,["modelValue","min","max"])])])]),(0,i._)("div",null,[de,(0,i.Wm)(m,{id:"input-camera",modelValue:o.model.deviceId,"onUpdate:modelValue":t[2]||(t[2]=e=>o.model.deviceId=e),options:e.CAMERAS_OPTIONS},null,8,["modelValue","options"])]),(0,i._)("fieldset",null,[ce,(0,i._)("div",ue,[(0,i._)("div",me,[he,(0,i.Wm)(m,{id:"input-ratio",modelValue:o.model.ratio,"onUpdate:modelValue":t[3]||(t[3]=e=>o.model.ratio=e),options:e.RADIO_OPTIONS,disabled:""},null,8,["modelValue","options"])]),(0,i._)("div",ge,[pe,(0,i.Wm)(h,{type:"number",modelValue:o.model.width,"onUpdate:modelValue":t[4]||(t[4]=e=>o.model.width=e),min:e.WIDTH.min,max:e.WIDTH.max,step:"10"},null,8,["modelValue","min","max"])]),(0,i._)("div",fe,[ve,(0,i.Wm)(h,{type:"number",modelValue:o.model.height,"onUpdate:modelValue":t[5]||(t[5]=e=>o.model.height=e),min:e.HEIGHT.min,max:e.HEIGHT.max,step:"10"},null,8,["modelValue","min","max"])])])]),(0,i._)("fieldset",null,[be,(0,i._)("div",null,[(0,i.Wm)(g,{checked:o.model.singleChannel,modelValue:o.model.singleChannel,"onUpdate:modelValue":t[6]||(t[6]=e=>o.model.singleChannel=e)},{default:(0,i.w5)((()=>[(0,i.Uk)(" SingleChannel ")])),_:1},8,["checked","modelValue"])])])]),(0,i._)("section",_e,[(0,i._)("button",{class:"btn btn-success","data-bs-dismiss":"offcanvas",onClick:t[7]||(t[7]=(...e)=>r.doClickOk&&r.doClickOk(...e))}," OK "),we])],64)}var ke={name:"o-settings",methods:{doClickOk(){Object.entries(this.model).forEach((([e,t])=>{this.quaggaConfigStore.setConfig(e,t)})),this.quaggaConfigStore.setEvents("update")}},data(){return{model:{deviceId:"",ratio:"16x9",readers:this.quaggaConfigStore.readers,numOfWorkers:this.quaggaConfigStore.numOfWorkers,width:this.quaggaConfigStore.width.ideal,height:this.quaggaConfigStore.height.ideal,singleChannel:this.quaggaConfigStore.singleChannel},message:""}},setup(){const e={quaggaConfigStore:A()},t=W.devices(),a={READERS_OPTIONS:j.readers("values").map((e=>({text:e,value:e}))),WORKERS_RANGE:j.numOfWorkers("range"),DEVICES:t,CAMERAS_OPTIONS:W.cameras().map((e=>({text:e.label,value:e.deviceId}))),RADIO_OPTIONS:["21x9","16x9","4x3","1x1"].map((e=>({text:e,value:e}))),WIDTH:{min:j.width("default").min,max:j.width("default").max},HEIGHT:{min:j.height("default").min,max:j.height("default").max}};return{...a,...e}}};const Ce=(0,q.Z)(ke,[["render",ye]]);var xe=Ce;const Se={class:"container-fluid"},Oe=(0,i.uE)('<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarHead" aria-controls="navbarHead" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><a class="navbar-brand text-truncate" style="max-width:50%;" href="/"> Barcode Reader Demo </a><div class="collapse navbar-collapse" id="navbarHead"><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item"><a class="nav-link active" href="/">Home</a></li></ul><a class="btn btn-dark" href="https://github.com/rksan/barcode-detection-api-demo" target="_blank"><i class="bi bi-github"></i> github </a></div>',3),Ee={class:"dropdown"},Re=(0,i._)("button",{class:"btn btn-dark dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,i._)("i",{class:"bi bi-gear-fill"})],-1),De={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"dropdownMenuButton1"},Te=(0,i._)("h1",null,"Settings",-1);function We(e,t,a,s,o,r){const l=xe,d=te,c=F;return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("nav",{class:(0,n.C_)(["navbar navbar-expand-lg",r.compTheme])},[(0,i._)("div",Se,[Oe,(0,i._)("div",Ee,[Re,(0,i._)("ul",De,[(0,i._)("li",null,[(0,i._)("button",{class:"dropdown-item","data-bs-toggle":"offcanvas","data-bs-target":"#settings-sidebar","aria-controls":"settings-sidebar",onClick:t[0]||(t[0]=(...t)=>e.onSettings&&e.onSettings(...t))}," Settings ")]),(0,i._)("li",null,[(0,i._)("button",{class:"dropdown-item","data-bs-toggle":"modal","data-bs-target":"#supported-constraints-dialog",onClick:t[1]||(t[1]=(...e)=>r.onSC&&r.onSC(...e))}," Supported Constraints ")]),(0,i._)("li",null,[(0,i._)("button",{class:"dropdown-item","data-bs-toggle":"modal","data-bs-target":"#enumerate-devices-dialog",onClick:t[2]||(t[2]=(...e)=>r.onEnumerateDevices&&r.onEnumerateDevices(...e))}," Enumerate Devices ")])])])])],2),(0,i.Wm)(d,{id:"settings-sidebar",theme:a.theme,class:"offcanvas-end"},{header:(0,i.w5)((()=>[Te])),default:(0,i.w5)((()=>[(0,i.Wm)(l)])),_:1},8,["theme"]),(0,i.Wm)(c,{id:"supported-constraints-dialog",theme:a.theme,title:"Supported Constraints"},{default:(0,i.w5)((()=>[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.supportedConstraints,((e,t,a)=>((0,i.wg)(),(0,i.iD)("li",{key:a},(0,n.zw)(t)+" : "+(0,n.zw)(e),1)))),128))])])),_:1},8,["theme"]),(0,i.Wm)(c,{id:"enumerate-devices-dialog",theme:a.theme,title:"Enumerate Devices"},{default:(0,i.w5)((()=>[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.devices,((e,t,a)=>((0,i.wg)(),(0,i.iD)("li",{key:a},(0,n.zw)(t)+" : "+(0,n.zw)(e),1)))),128))])])),_:1},8,["theme"])],64)}var Ie={name:"o-navbar",components:{OModalDialog:F,OSettings:xe},props:{theme:{type:String,default(){return"light"}}},computed:{compTheme(){return"light"===this.theme?["navbar-light","bg-light","text-dark"].join(" "):["navbar-dark","bg-dark","text-light"].join(" ")}},data(){return{supportedConstraints:[],devices:[]}},methods:{onSC(){let e=navigator.mediaDevices.getSupportedConstraints();this.supportedConstraints=e},onEnumerateDevices(){navigator.mediaDevices.enumerateDevices().then((e=>{this.devices=e}))}}};const je=(0,q.Z)(Ie,[["render",We]]);var Ae=je;const Pe={class:"header",id:"grid-item-head"};function Ue(e,t,a,s,o,r){const l=Ae,d=H;return(0,i.wg)(),(0,i.iD)("div",{class:(0,n.C_)(["grid-content container-fluid",r.compTheme]),id:"grid-item-content"},[(0,i._)("header",Pe,[(0,i.Wm)(l,{theme:a.theme},null,8,["theme"])]),(0,i._)("main",{class:(0,n.C_)(["main",r.compTheme]),id:"grid-item-main"},[(0,i.Wm)(d,{theme:a.theme},null,8,["theme"])],2)],2)}var Me={name:"p-home",components:{ONavbar:Ae,OInputForm:H},props:{theme:{type:String,default(){return"light"}}},computed:{compTheme(){return"light"===this.theme?["bg-light","text-dark"].join(" "):["bg-dark","text-light"].join(" ")}}};const qe=(0,q.Z)(Me,[["render",Ue],["__scopeId","data-v-3d2a4016"]]);var Ve=qe;const He=e=>((0,i.dD)("data-v-06770ddb"),e=e(),(0,i.Cn)(),e),Le={class:"list-group list-group-horizontal"},$e=He((()=>(0,i._)("a",{class:"btn btn-dark",href:"https://github.com/rksan/barcode-detection-api-demo",target:"_blank"},[(0,i._)("i",{class:"bi bi-github"}),(0,i.Uk)(" github "),(0,i._)("i",{class:"bi bi-box-arrow-up-right"})],-1))),Ne=[$e],Qe={class:"position-absolute top-50 start-50 translate-middle"},Be=He((()=>(0,i._)("i",{class:"bi bi-x-circle text-danger"},null,-1))),Ge=He((()=>(0,i._)("p",null,"本アプリは利用するには、カメラの使用を許可してください",-1))),ze=["href"],Fe=He((()=>(0,i._)("i",{class:"bi bi-search"},null,-1))),Ke=He((()=>(0,i._)("i",{class:"bi bi-box-arrow-up-right"},null,-1))),Ze=He((()=>(0,i._)("div",{class:"position-absolute top-50 start-50 translate-middle opacity-50"},[(0,i._)("div",{class:"spinner-border text-primary",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading ...")])],-1))),Ye=He((()=>(0,i._)("p",null,"カメラを使用できるか確認しています...",-1))),Je=He((()=>(0,i._)("p",null,"ブラウザにカメラの利用を許可してください",-1)));function Xe(e,t,a,s,o,r){return o.permission?(0,i.WI)(e.$slots,"default",{key:0},void 0,!0):((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,n.C_)(["container-fluid text-center",r.compTheme])},[(0,i._)("div",{class:(0,n.C_)(["position-absolute top-0 end-0",r.compTheme])},[(0,i._)("ul",Le,[(0,i._)("li",{class:(0,n.C_)(["list-group-item",r.compTheme])},Ne,2)])],2),(0,i._)("div",Qe,[o.error?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("h1",null,[Be,(0,i.Uk)((0,n.zw)(this.message),1)]),Ge,(0,i._)("span",null,[(0,i._)("a",{class:"btn btn-primary",href:"https://www.google.com/search?q=%E3%82%AB%E3%83%A1%E3%83%A9+%E8%A8%B1%E5%8F%AF&oq=%E3%82%AB%E3%83%A1%E3%83%A9+%E8%A8%B1%E5%8F%AF&aqs=chrome..69i57.7261j0j7&sourceid=chrome&ie=UTF-8",target:"_blank"},[Fe,(0,i.Uk)(" カメラ 許可 "),Ke],8,ze)])],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[Ze,Ye,Je],64))])],2))}var et={name:"p-async-permission-media",props:{theme:{type:String,default:"light"},constraints:{type:Object,default(){return{video:!0}}}},data(){return{permission:!1,message:"",error:null}},computed:{compTheme(){return"light"===this.theme?["bg-light","text-dark"].join(" "):["bg-dark","text-light"].join(" ")}},methods:{async asyncPermissionToUseUserMedia(e){return W.asyncPermissionToUseUserMedia(e).then((e=>{if(e instanceof Error)return Promise.reject(e);this.permission=!0,this.message="カメラの使用が許可されました。",this.error=null})).catch((e=>{this.permission=!1,this.message="カメラの使用が拒否されています",this.error=e}))}},async created(){await this.asyncPermissionToUseUserMedia(this.constraints)}};const tt=(0,q.Z)(et,[["render",Xe],["__scopeId","data-v-06770ddb"]]);var at=tt,st=(0,i.aZ)({name:"App",components:{PAsyncPermissionMedia:at,PHome:Ve}});const it=(0,q.Z)(st,[["render",o]]);var ot=it,nt=a(4193);(0,s.ri)(ot).use((0,D.WB)()).use(nt.ZP).mount("#app")}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,s,i,o){if(!s){var n=1/0;for(c=0;c<e.length;c++){s=e[c][0],i=e[c][1],o=e[c][2];for(var r=!0,l=0;l<s.length;l++)(!1&o||n>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(r=!1,o<n&&(n=o));if(r){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,i,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,o,n=s[0],r=s[1],l=s[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(l)var c=l(a)}for(t&&t(s);d<n.length;d++)o=n[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},s=self["webpackChunkbarcode_detection_api_demo"]=self["webpackChunkbarcode_detection_api_demo"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(4037)}));s=a.O(s)})();
//# sourceMappingURL=app.4621eacb.js.map