(function(){"use strict";var e={4037:function(e,t,a){var o=a(9242),s=a(3396);function i(e,t,a,o,i,n){const r=(0,s.up)("PHome"),l=(0,s.up)("PAsyncPermissionMedia");return(0,s.wg)(),(0,s.j4)(l,{theme:"dark"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{theme:"dark"})])),_:1})}var n=a(7139);const r={class:"wapper grid-container"},l={class:"content grid-item-main"},d={class:"fixed-bottom"},c=(0,s._)("i",{class:"bi bi-upc-scan"},null,-1),u=(0,s._)("i",{class:"bi bi-stop-circle-fill"},null,-1),m={class:"footer w-100 position-absolute bottom-0 start-0"},h={class:"d-flex justify-content-end p-5"},g=(0,s._)("button",{type:"button",class:"preview-button btn btn-secondary","data-bs-toggle":"offcanvas","data-bs-target":"#previewList","aria-controls":"previewList"},[(0,s._)("i",{class:"bi bi-images"})],-1),p=(0,s._)("button",{type:"button",class:"btn dropdown-toggle dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,s._)("span",{class:"visually-hidden"},"Toggle Dropdown")],-1),b={class:"dropdown-menu dropdown-menu-dark"},f=(0,s._)("li",null,[(0,s._)("button",{class:"dropdown-item","data-bs-toggle":"offcanvas","data-bs-target":"#previewList","aria-controls":"previewList"}," Show Preview ")],-1),v=(0,s._)("div",{class:"offcanvas-header"},[(0,s._)("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel"},"Previews"),(0,s._)("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),_={class:"offcanvas-body"},w={class:"preview-list list-group list-group-flush list-group-numbered",style:{"flex-direction":"column-reverse"}},C=["src"],k={class:"preview-list-text bg-light text-dark"},y={id:"dspResult",class:"modal","aria-hidden":"true"},x={class:"modal-dialog modal-dialog-scrollable"},S=(0,s._)("div",{class:"modal-header"},[(0,s._)("h5",{class:"modal-title"},"Result"),(0,s._)("button",{class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),O={class:"modal-body bg-dark"},E={class:"prettyprint linenums"};function R(e,t,a,i,R,D){const T=(0,s.up)("b-button");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",r,[(0,s._)("section",l,[(0,s._)("div",{class:(0,n.C_)(["camera",[e.compCameraTheme,e.compCameraFull].join(" ")])},[(0,s._)("div",{id:"interactive",class:(0,n.C_)(["viewport",e.compViewportShow])},[(0,s._)("span",null,(0,n.zw)(e.videoInfo),1)],2),(0,s._)("div",d,[(0,s._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...t)=>e.doStart&&e.doStart(...t))},[c,(0,s.Uk)(" Start ")]),(0,s._)("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=(...t)=>e.doStop&&e.doStop(...t))},[u,(0,s.Uk)(" Stop ")])])],2)])]),(0,s._)("div",m,[(0,s._)("div",h,[(0,s._)("div",{class:(0,n.C_)(["btn-group bg-secondary dropup",e.compAnime]),onAnimationend:t[3]||(t[3]=(...t)=>e.doAnimationEnd&&e.doAnimationEnd(...t))},[g,p,(0,s._)("ul",b,[f,(0,s._)("li",null,[(0,s._)("button",{class:"dropdown-item",onClick:t[2]||(t[2]=(...t)=>e.resetGallary&&e.resetGallary(...t))},"Reset")])]),(0,s.wy)((0,s._)("span",{class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},(0,n.zw)(e.model.gallery.length),513),[[o.F8,0!==e.model.gallery.length]])],34)])]),(0,s._)("div",{class:(0,n.C_)(["offcanvas offcanvas-end",e.compTheme]),tabindex:"-1",id:"previewList"},[v,(0,s._)("div",_,[(0,s._)("div",w,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.model.gallery,((t,a)=>((0,s.wg)(),(0,s.j4)(T,{key:a,class:(0,n.C_)(["list-group-item list-group-item-action",e.compTheme]),"data-bs-toggle":"modal","data-bs-target":"#dspResult","data-result-index":a,onClick:e.doRsult},{default:(0,s.w5)((()=>[(0,s._)("img",{src:t.imageURL,class:"preview-list-img"},null,8,C),(0,s._)("h5",k," Code "+(0,n.zw)(a+1)+". : "+(0,n.zw)(t.code),1)])),_:2},1032,["class","data-result-index","onClick"])))),128))])])],2),(0,s._)("div",y,[(0,s._)("div",x,[(0,s._)("div",{class:(0,n.C_)(["modal-content",e.compTheme])},[S,(0,s._)("div",O,[(0,s._)("code",E,(0,n.zw)(e.model.dspResult),1)])],2)])])],64)}a(7658);var D=a(1020);const T={asyncUserMedias:async e=>await navigator.mediaDevices.getUserMedia(e),_permissions:{video:!1,audio:!1},_devices:[],devices(){const e=T._devices;return e},_cameras:[],cameras(e){if(T._permissions.video){const t=T._cameras;return"default"===e?t[0]:t}return[]},_microphones:[],microphones(e){if(T._permissions.audio){const t=T._microphones;return"default"===e?t[0]:t}return[]},asyncPermissionToUseUserMedia:async e=>{try{const t=await T.asyncUserMedias(e);T._permissions.audio=!0;const a=t.getVideoTracks();0<a.length&&(T._permissions.video=!0,a.forEach((e=>e.stop())));const o=t.getAudioTracks();0<o.length&&(T._permissions.audio=!0,o.forEach((e=>e.stop())));const s=await T.asyncDevices();return T._devices=s,T._cameras=s.filter((e=>"videoinput"===e.kind&&""!==e.label)),T._microphones=s.filter((e=>"audioinput"===e.kind&&""!==e.label)),Promise.resolve(s)}catch(t){return T._permissions.video=!1,T._permissions.audio=!1,Promise.reject(t)}},asyncDevices:async()=>await navigator.mediaDevices.enumerateDevices()};var W=T;const j=(e,t)=>e&&t?e[t]:e,I={width:e=>{const t={default:{min:1280,ideal:1920,max:2560}};return j(t,e)},height:e=>{const t={default:{min:720,ideal:1080,max:1440}};return j(t,e)},readers:e=>{const t={default:["ean_reader","ean_8_reader"],values:["code_128_reader","ean_reader","ean_8_reader","code_39_reader","code_39_vin_reader","codabar_reader","upc_reader","upc_e_reader","i2of5_reader","2of5_reader","code_93_reader"]};return j(t,e)},numOfWorkers:e=>{const t={default:0,range:{min:0,max:navigator.hardwareConcurrency||4}};return j(t,e)},singleChannel:e=>{const t={default:!1};return j(t,e)}},A=(0,D.Q_)("quagga-config",{state:()=>({readers:I.readers("default"),numOfWorkers:I.numOfWorkers("default"),singleChannel:I.singleChannel("default"),width:I.width("default"),height:I.height("default"),events:""}),getters:{getEvents:e=>()=>e.events,getConfig:e=>()=>{const t={inputStream:{name:"Live",type:"LiveStream",target:"#interactive.viewport",constraints:{width:e.width,height:e.height,facingMode:"environment"},singleChannel:e.singleChannel},numOfWorkers:e.numOfWorkers,decoder:{readers:e.readers},locate:!0};return t}},actions:{setEvents(e){this.events=e},setConfig(e,t){this[e]=t}}});var P={name:"o-input-form",props:{theme:{type:String,default(){return"light"}},start:{type:Function,default:()=>{}},scan:{type:Function,default:()=>{}},stop:{type:Function,default:()=>{}}},computed:{compCameraFull(){return this.camera?["camera-full"].join(" "):""},compViewportShow(){return this.camera?"":"d-none"},compTheme(){return"light"===this.theme?["bg-light","text-dark"].join(" "):["bg-dark","text-light"].join(" ")},compCameraTheme(){return"light"===this.theme?["bg-light","camera-demo-light"].join(" "):["bg-dark","camera-demo-dark"].join(" ")},compAnime(){return this.anime?["anime"].join(" "):""}},data(){return{model:{imageURL:"",gallery:[{code:"",imageURL:"",result:null,checker:null}],dspResult:""},anime:!1,camera:!1,videoInfo:""}},created(){this.resetGallary(),this.$watch((()=>this.quaggaConfigStore.getEvents()),(e=>{"update"===e&&(this.camera&&(this.doStop(),this.doStart()),this.quaggaConfigStore.setEvents(""))}))},setup(){const e={quaggaConfigStore:A()},t={log:"#my-log",Quagga:null,observer:null,codeChecker:{codes:[],count:0,error:0,errors:[]}};return{...e,...t,console(e,t){if("string"===typeof this.log&&(this.log=document.querySelector(this.log)),"string"===typeof t){var a=document.createElement("p");a.textContent=t,this.log.appendChild(a)}},init(){this.codes=[],this.Quagga=a(928),this.Quagga.onProcessed(this.doProcessed),this.Quagga.onDetected(this.doDetected);const e=this.quaggaConfigStore.getConfig();this.Quagga.init(e,(e=>{e?this.console(e):this.Quagga.start()})),this.initOvserver(),this.camera=!0},term(){this.Quagga.offProcessed(this.doProcessed),this.Quagga.offDetected(this.doDetected),this.Quagga.stop(),this.termObserver(),this.camera=!1},isSameCode(e){const t=this.codeCheckCode(e.codeResult.code);if(t.length<5)return!1;const a=t.every((e=>e===t[0]));return this.codeCheckCount(),a||this.codeCheckError(),a},getCodeChecker(){return Object.assign({},this.codeChecker)},codeCheckCode(e){return e&&this.codeChecker.codes.push(e),this.codeChecker.codes},codeCheckCount(){return++this.codeChecker.count},codeCheckError(){return this.codeChecker.errors.push(this.codeChecker.codes.shift()),++this.codeChecker.error},resetCodeChecker(){this.codeChecker.codes=[],this.codeChecker.count=0,this.codeChecker.error=0,this.codeChecker.errors=[]}}},methods:{initOvserver(){const e=document.querySelector(".viewport"),t=new ResizeObserver(this.doOvserver);t.observe(e),this.observer=t},termObserver(){this.observer.disconnect()},doOvserver(e){e.forEach((e=>{const t=e.target,a=e.contentRect,o=t.getElementsByTagName("video")[0],s=o?o.getBoundingClientRect():{width:"",height:""},i=t.getElementsByTagName("canvas")[0],n=i?i.getBoundingClientRect():{width:"",height:""},r=document.body.getBoundingClientRect();this.videoInfo=[{body:`${Math.floor(r.width)} * ${Math.floor(r.height)}`},{view:`${Math.floor(a.width)} * ${Math.floor(a.height)}`},{video:`${Math.floor(s.width)} * ${Math.floor(s.height)}`},{canvas:`${Math.floor(n.width)} * ${Math.floor(n.height)}`}]}))},resetGallary(){this.model.gallery=[]},addGallary({code:e,imageURL:t,result:a,checker:o}){this.model.gallery.push({code:e,imageURL:t,result:a,checker:o})},doAnimationEnd(){this.anime=!1},doRsult(e){let t=e.currentTarget;var a=t.dataset.resultIndex,o=this.model.gallery[a].result;this.model.dspResult=JSON.stringify(o)},doStart(){this.init(),this.start("start",{data:this.model,vm:this})},doScan(){this.scan("scan",{data:this.model,vm:this})},doStop(){this.term(),this.stop("stop",{data:this.model,vm:this})},doProcessed(e){if(e){const t=this.Quagga.canvas.ctx.overlay,a=this.Quagga.canvas.dom.overlay;e.boxes&&(t.clearRect(0,0,parseInt(a.getAttribute("width")),parseInt(a.getAttribute("height"))),e.boxes.filter((t=>t!==e.box)).forEach((e=>{this.Quagga.ImageDebug.drawPath(e,{x:0,y:1},t,{color:"green",lineWidth:2})}))),e.box&&this.Quagga.ImageDebug.drawPath(e.box,{x:0,y:1},t,{color:"#00F",lineWidth:2}),e.codeResult&&e.codeResult.code&&this.Quagga.ImageDebug.drawPath(e.line,{x:"x",y:"y"},t,{color:"red",lineWidth:3})}},doDetected(e){if(e&&e.codeResult&&this.isSameCode(e)){const t=e.codeResult.code,a=this.Quagga.canvas.dom.image;this.model.imageURL=a.toDataURL(),this.addGallary({code:t,imageURL:this.model.imageURL,result:e,checker:this.getCodeChecker()}),this.doScan(),this.doStop(),this.resetCodeChecker(),this.anime=!0}}}},U=P,M=a(89);const V=(0,M.Z)(U,[["render",R]]);var H=V;const q=["id"],L={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},$={class:"modal-header"},N={class:"modal-title"};function Q(e,t,a,o,i,r){return(0,s.wg)(),(0,s.iD)("div",{id:a.id,class:"modal","aria-hidden":"true"},[(0,s._)("div",L,[(0,s._)("div",{class:(0,n.C_)(["modal-content",r.compTheme])},[(0,s._)("div",$,[(0,s._)("h5",N,(0,n.zw)(a.title),1),(0,s.WI)(e.$slots,"header"),(0,s._)("button",{class:(0,n.C_)(["btn-close",r.compCloseButton]),"data-bs-dismiss":"modal","aria-label":"Close"},null,2)]),(0,s._)("div",{class:(0,n.C_)(["modal-body",r.compTheme])},[(0,s.WI)(e.$slots,"default")],2)],2)])],8,q)}var B={name:"o-modal-dialog",props:{id:{type:String,default:()=>"modal-dialog"},title:{type:String,default:()=>"Modal Dialog"},theme:{type:String,default:()=>"light"},btnSave:{type:Object,default:()=>({label:"Save",click:()=>{}})},btnCancel:{type:Object,default:()=>({label:"Cancel",click:()=>{}})}},computed:{compTheme(){return"light"===this.theme?["bg-light","text-dark"].join(" "):["bg-dark","text-light"].join(" ")},compCloseButton(){return"light"===this.theme?"":"btn-close-white"}}};const G=(0,M.Z)(B,[["render",Q]]);var z=G;const F=(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),K={class:"offcanvas-body"},Z={class:"offcanvas-footer"};function Y(e,t,a,o,i,r){return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["offcanvas d-flex flex-column flex-shrink-0",r.compTheme])},[(0,s._)("div",{class:(0,n.C_)(["offcanvas-header",r.compTheme])},[(0,s.WI)(e.$slots,"header"),F],2),(0,s._)("div",K,[(0,s.WI)(e.$slots,"default")]),(0,s._)("div",Z,[(0,s.WI)(e.$slots,"footer")])],2)}var J={name:"o-sidebar",props:{theme:{type:String,default(){return"light"}}},computed:{compTheme(){return"light"===this.theme?["bg-light","text-dark"].join(" "):["bg-dark","text-light"].join(" ")}}};const X=(0,M.Z)(J,[["render",Y]]);var ee=X;const te={class:"row"},ae=(0,s._)("label",{class:"form-label",for:"input-readers"},"Readers",-1),oe={class:"col"},se=(0,s._)("label",{class:"form-label",for:"input-workers"},"Workers(0 - 8)",-1),ie={class:"row"},ne={class:"col-8"},re={class:"col-1"},le=(0,s._)("label",{class:"form-label",for:"input-camera"},"Camera",-1),de=(0,s._)("legend",null,"Video",-1),ce={class:"row"},ue={class:"col"},me=(0,s._)("label",{class:"form-label"},"Ratio",-1),he={class:"col"},ge=(0,s._)("label",{class:"form-label"},"width",-1),pe={class:"col"},be=(0,s._)("label",{class:"form-label"},"height",-1),fe=(0,s._)("legend",null,"Options",-1),ve={class:"modal-footer"},_e=(0,s._)("button",{class:"btn text-light","data-bs-dismiss":"offcanvas"},"Cancel",-1);function we(e,t,a,o,i,r){const l=(0,s.up)("b-form-checkbox-group"),d=(0,s.up)("b-progress-bar"),c=(0,s.up)("b-progress"),u=(0,s.up)("b-form-spin-button"),m=(0,s.up)("b-form-select"),h=(0,s.up)("b-form-input"),g=(0,s.up)("b-form-checkbox");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("form",null,[(0,s._)("div",te,[ae,(0,s._)("div",oe,[(0,s.Wm)(l,{id:"input-readers",modelValue:i.model.readers,"onUpdate:modelValue":t[0]||(t[0]=e=>i.model.readers=e),options:e.READERS_OPTIONS},null,8,["modelValue","options"])])]),(0,s._)("div",null,[se,(0,s._)("div",ie,[(0,s._)("div",ne,[(0,s.Wm)(c,{min:e.WORKERS_RANGE.min,max:e.WORKERS_RANGE.max},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{value:i.model.numOfWorkers},{default:(0,s.w5)((()=>[(0,s._)("span",null,(0,n.zw)(`${i.model.numOfWorkers} / ${e.WORKERS_RANGE.max}`),1)])),_:1},8,["value"])])),_:1},8,["min","max"])]),(0,s._)("div",re,[(0,s.Wm)(u,{id:"input-workers",modelValue:i.model.numOfWorkers,"onUpdate:modelValue":t[1]||(t[1]=e=>i.model.numOfWorkers=e),min:e.WORKERS_RANGE.min,max:e.WORKERS_RANGE.max,inline:""},null,8,["modelValue","min","max"])])])]),(0,s._)("div",null,[le,(0,s.Wm)(m,{id:"input-camera",modelValue:i.model.deviceId,"onUpdate:modelValue":t[2]||(t[2]=e=>i.model.deviceId=e),options:e.CAMERAS_OPTIONS},null,8,["modelValue","options"])]),(0,s._)("fieldset",null,[de,(0,s._)("div",ce,[(0,s._)("div",ue,[me,(0,s.Wm)(m,{id:"input-ratio",modelValue:i.model.ratio,"onUpdate:modelValue":t[3]||(t[3]=e=>i.model.ratio=e),options:e.RADIO_OPTIONS,disabled:""},null,8,["modelValue","options"])]),(0,s._)("div",he,[ge,(0,s.Wm)(h,{type:"number",modelValue:i.model.width,"onUpdate:modelValue":t[4]||(t[4]=e=>i.model.width=e),min:e.WIDTH.min,max:e.WIDTH.max,step:"10"},null,8,["modelValue","min","max"])]),(0,s._)("div",pe,[be,(0,s.Wm)(h,{type:"number",modelValue:i.model.height,"onUpdate:modelValue":t[5]||(t[5]=e=>i.model.height=e),min:e.HEIGHT.min,max:e.HEIGHT.max,step:"10"},null,8,["modelValue","min","max"])])])]),(0,s._)("fieldset",null,[fe,(0,s._)("div",null,[(0,s.Wm)(g,{checked:i.model.singleChannel,modelValue:i.model.singleChannel,"onUpdate:modelValue":t[6]||(t[6]=e=>i.model.singleChannel=e)},{default:(0,s.w5)((()=>[(0,s.Uk)(" SingleChannel ")])),_:1},8,["checked","modelValue"])])])]),(0,s._)("section",ve,[(0,s._)("button",{class:"btn btn-success","data-bs-dismiss":"offcanvas",onClick:t[7]||(t[7]=(...e)=>r.doClickOk&&r.doClickOk(...e))}," OK "),_e])],64)}var Ce={name:"o-settings",methods:{doClickOk(){Object.entries(this.model).forEach((([e,t])=>{this.quaggaConfigStore.setConfig(e,t)})),this.quaggaConfigStore.setEvents("update")}},data(){return{model:{deviceId:"",ratio:"16x9",readers:this.quaggaConfigStore.readers,numOfWorkers:this.quaggaConfigStore.numOfWorkers,width:this.quaggaConfigStore.width.ideal,height:this.quaggaConfigStore.height.ideal,singleChannel:this.quaggaConfigStore.singleChannel},message:""}},setup(){const e={quaggaConfigStore:A()},t=W.devices(),a={READERS_OPTIONS:I.readers("values").map((e=>({text:e,value:e}))),WORKERS_RANGE:I.numOfWorkers("range"),DEVICES:t,CAMERAS_OPTIONS:W.cameras().map((e=>({text:e.label,value:e.deviceId}))),RADIO_OPTIONS:["21x9","16x9","4x3","1x1"].map((e=>({text:e,value:e}))),WIDTH:{min:I.width("default").min,max:I.width("default").max},HEIGHT:{min:I.height("default").min,max:I.height("default").max}};return{...a,...e}}};const ke=(0,M.Z)(Ce,[["render",we]]);var ye=ke;const xe={class:"container-fluid"},Se=(0,s.uE)('<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarHead" aria-controls="navbarHead" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><a class="navbar-brand text-truncate" style="max-width:50%;" href="/"> Barcode Reader Demo </a><div class="collapse navbar-collapse" id="navbarHead"><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item"><a class="nav-link active" href="/">Home</a></li></ul><a class="btn btn-dark" href="https://github.com/rksan/barcode-detection-api-demo" target="_blank"><i class="bi bi-github"></i> github </a></div>',3),Oe={class:"dropdown"},Ee=(0,s._)("button",{class:"btn btn-dark dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,s._)("i",{class:"bi bi-gear-fill"})],-1),Re={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"dropdownMenuButton1"},De=(0,s._)("h1",null,"Settings",-1);function Te(e,t,a,o,i,r){const l=ye,d=ee,c=z;return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",{class:(0,n.C_)(["navbar navbar-expand-lg",r.compTheme])},[(0,s._)("div",xe,[Se,(0,s._)("div",Oe,[Ee,(0,s._)("ul",Re,[(0,s._)("li",null,[(0,s._)("button",{class:"dropdown-item","data-bs-toggle":"offcanvas","data-bs-target":"#settings-sidebar","aria-controls":"settings-sidebar",onClick:t[0]||(t[0]=(...t)=>e.onSettings&&e.onSettings(...t))}," Settings ")]),(0,s._)("li",null,[(0,s._)("button",{class:"dropdown-item","data-bs-toggle":"modal","data-bs-target":"#supported-constraints-dialog",onClick:t[1]||(t[1]=(...e)=>r.onSC&&r.onSC(...e))}," Supported Constraints ")]),(0,s._)("li",null,[(0,s._)("button",{class:"dropdown-item","data-bs-toggle":"modal","data-bs-target":"#enumerate-devices-dialog",onClick:t[2]||(t[2]=(...e)=>r.onEnumerateDevices&&r.onEnumerateDevices(...e))}," Enumerate Devices ")])])])])],2),(0,s.Wm)(d,{id:"settings-sidebar",theme:a.theme,class:"offcanvas-end"},{header:(0,s.w5)((()=>[De])),default:(0,s.w5)((()=>[(0,s.Wm)(l)])),_:1},8,["theme"]),(0,s.Wm)(c,{id:"supported-constraints-dialog",theme:a.theme,title:"Supported Constraints"},{default:(0,s.w5)((()=>[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.supportedConstraints,((e,t,a)=>((0,s.wg)(),(0,s.iD)("li",{key:a},(0,n.zw)(t)+" : "+(0,n.zw)(e),1)))),128))])])),_:1},8,["theme"]),(0,s.Wm)(c,{id:"enumerate-devices-dialog",theme:a.theme,title:"Enumerate Devices"},{default:(0,s.w5)((()=>[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.devices,((e,t,a)=>((0,s.wg)(),(0,s.iD)("li",{key:a},(0,n.zw)(t)+" : "+(0,n.zw)(e),1)))),128))])])),_:1},8,["theme"])],64)}var We={name:"o-navbar",components:{OModalDialog:z,OSettings:ye},props:{theme:{type:String,default(){return"light"}}},computed:{compTheme(){return"light"===this.theme?["navbar-light","bg-light","text-dark"].join(" "):["navbar-dark","bg-dark","text-light"].join(" ")}},data(){return{supportedConstraints:[],devices:[]}},methods:{onSC(){let e=navigator.mediaDevices.getSupportedConstraints();this.supportedConstraints=e},onEnumerateDevices(){navigator.mediaDevices.enumerateDevices().then((e=>{this.devices=e}))}}};const je=(0,M.Z)(We,[["render",Te]]);var Ie=je;const Ae={class:"header",id:"grid-item-head"};function Pe(e,t,a,o,i,r){const l=Ie,d=H;return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["grid-content container-fluid",r.compTheme]),id:"grid-item-content"},[(0,s._)("header",Ae,[(0,s.Wm)(l,{theme:a.theme},null,8,["theme"])]),(0,s._)("main",{class:(0,n.C_)(["main",r.compTheme]),id:"grid-item-main"},[(0,s.Wm)(d,{theme:a.theme},null,8,["theme"])],2)],2)}var Ue={name:"p-home",components:{ONavbar:Ie,OInputForm:H},props:{theme:{type:String,default(){return"light"}}},computed:{compTheme(){return"light"===this.theme?["bg-light","text-dark"].join(" "):["bg-dark","text-light"].join(" ")}}};const Me=(0,M.Z)(Ue,[["render",Pe],["__scopeId","data-v-3d2a4016"]]);var Ve=Me;const He=e=>((0,s.dD)("data-v-06770ddb"),e=e(),(0,s.Cn)(),e),qe={class:"list-group list-group-horizontal"},Le=He((()=>(0,s._)("a",{class:"btn btn-dark",href:"https://github.com/rksan/barcode-detection-api-demo",target:"_blank"},[(0,s._)("i",{class:"bi bi-github"}),(0,s.Uk)(" github "),(0,s._)("i",{class:"bi bi-box-arrow-up-right"})],-1))),$e=[Le],Ne={class:"position-absolute top-50 start-50 translate-middle"},Qe=He((()=>(0,s._)("i",{class:"bi bi-x-circle text-danger"},null,-1))),Be=He((()=>(0,s._)("p",null,"本アプリは利用するには、カメラの使用を許可してください",-1))),Ge=["href"],ze=He((()=>(0,s._)("i",{class:"bi bi-search"},null,-1))),Fe=He((()=>(0,s._)("i",{class:"bi bi-box-arrow-up-right"},null,-1))),Ke=He((()=>(0,s._)("div",{class:"position-absolute top-50 start-50 translate-middle opacity-50"},[(0,s._)("div",{class:"spinner-border text-primary",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading ...")])],-1))),Ze=He((()=>(0,s._)("p",null,"カメラを使用できるか確認しています...",-1))),Ye=He((()=>(0,s._)("p",null,"ブラウザにカメラの利用を許可してください",-1)));function Je(e,t,a,o,i,r){return i.permission?(0,s.WI)(e.$slots,"default",{key:0},void 0,!0):((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,n.C_)(["container-fluid text-center",r.compTheme])},[(0,s._)("div",{class:(0,n.C_)(["position-absolute top-0 end-0",r.compTheme])},[(0,s._)("ul",qe,[(0,s._)("li",{class:(0,n.C_)(["list-group-item",r.compTheme])},$e,2)])],2),(0,s._)("div",Ne,[i.error?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("h1",null,[Qe,(0,s.Uk)((0,n.zw)(this.message),1)]),Be,(0,s._)("span",null,[(0,s._)("a",{class:"btn btn-primary",href:"https://www.google.com/search?q=%E3%82%AB%E3%83%A1%E3%83%A9+%E8%A8%B1%E5%8F%AF&oq=%E3%82%AB%E3%83%A1%E3%83%A9+%E8%A8%B1%E5%8F%AF&aqs=chrome..69i57.7261j0j7&sourceid=chrome&ie=UTF-8",target:"_blank"},[ze,(0,s.Uk)(" カメラ 許可 "),Fe],8,Ge)])],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[Ke,Ze,Ye],64))])],2))}var Xe={name:"p-async-permission-media",props:{theme:{type:String,default:"light"},constraints:{type:Object,default(){return{video:!0}}}},data(){return{permission:!1,message:"",error:null}},computed:{compTheme(){return"light"===this.theme?["bg-light","text-dark"].join(" "):["bg-dark","text-light"].join(" ")}},methods:{async asyncPermissionToUseUserMedia(e){return W.asyncPermissionToUseUserMedia(e).then((e=>{if(e instanceof Error)return Promise.reject(e);this.permission=!0,this.message="カメラの使用が許可されました。",this.error=null})).catch((e=>{this.permission=!1,this.message="カメラの使用が拒否されています",this.error=e}))}},async created(){await this.asyncPermissionToUseUserMedia(this.constraints)}};const et=(0,M.Z)(Xe,[["render",Je],["__scopeId","data-v-06770ddb"]]);var tt=et,at=(0,s.aZ)({name:"App",components:{PAsyncPermissionMedia:tt,PHome:Ve}});const ot=(0,M.Z)(at,[["render",i]]);var st=ot,it=a(4193);(0,o.ri)(st).use((0,D.WB)()).use(it.ZP).mount("#app")}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,o,s,i){if(!o){var n=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],i=e[c][2];for(var r=!0,l=0;l<o.length;l++)(!1&i||n>=i)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(r=!1,i<n&&(n=i));if(r){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,s,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,i,n=o[0],r=o[1],l=o[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(l)var c=l(a)}for(t&&t(o);d<n.length;d++)i=n[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},o=self["webpackChunkbarcode_detection_api_demo"]=self["webpackChunkbarcode_detection_api_demo"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(4037)}));o=a.O(o)})();
//# sourceMappingURL=app.e43a2b03.js.map